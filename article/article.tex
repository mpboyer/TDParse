\documentclass[a4paper,UKenglish,cleveref, autoref, thm-restate, anonymous]{lipics-v2021}
%This is a template for producing LIPIcs articles. 
%See lipics-v2021-authors-guidelines.pdf for further information.
%for A4 paper format use option "a4paper", for US-letter use option "letterpaper"
%for british hyphenation rules use option "UKenglish", for american hyphenation rules use option "USenglish"
%for section-numbered lemmas etc., use "numberwithinsect"
%for enabling cleveref support, use "cleveref"
%for enabling autoref support, use "autoref"
%for anonymousing the authors (e.g. for double-blind review), add "anonymous"
%for enabling thm-restate support, use "thm-restate"
%for enabling a two-column layout for the author/affilation part (only applicable for > 6 authors), use "authorcolumns"
%for producing a PDF according the PDF/A standard, add "pdfa"

%\pdfoutput=1 %uncomment to ensure pdflatex processing (mandatatory e.g. to submit to arXiv)
%\hideLIPIcs  %uncomment to remove references to LIPIcs series (logo, DOI, ...), e.g. when preparing a pre-final version to be uploaded to arXiv or another public repository

%\graphicspath{{./graphics/}}%helpful if your graphic files are in another directory

\bibliographystyle{plainurl}% the mandatory bibstyle

\title{A Diagrammatic Calculus for a Functional Model of Natural Language Semantics} %TODO Please add

%\titlerunning{Dummy short title} %TODO optional, please use if title is longer than one line

\author{Matthieu Pierre Boyer}{DI ENS, Paris, France \and Department of Linguistics, Yale University, USA \and \url{http://www.eleves.ens.fr/home/mpboyer}}{matthieu.boyer@ens.fr}{https://orcid.org/0000-0002-1825-0097}{}
% \author{Simon Charlow}{Department of Linguistics, Yale University, USA}{simon.charlow@yale.edu}{https://orcid.org/0000-0002-1825-0097}{}

\authorrunning{M. P. Boyer and S. Charlow}

\Copyright{Matthieu P. Boyer and Simon Charlow}

\ccsdesc[100]{Models of computation. Document management and text processing.} %TODO mandatory: Please choose ACM 2012 classifications from https://dl.acm.org/ccs/ccs_flat.cfm 

\keywords{Typing, Natural Language Semantics, Parsing, Side Effects, String Diagrams} %TODO mandatory; please add comma-separated list of keywords

\category{Student Paper} %optional, e.g. invited paper

\relatedversion{} %optional, e.g. full version hosted on arXiv, HAL, or other respository/website
%\relatedversiondetails[linktext={opt. text shown instead of the URL}, cite=DBLP:books/mk/GrayR93]{Classification (e.g. Full Version, Extended Version, Previous Version}{URL to related version} %linktext and cite are optional

%\supplement{Link to a code for the parser will %optional, e.g. related research data, source code, ... hosted on a repository like zenodo, figshare, GitHub, ...
%\supplementdetails[linktext={opt. text shown instead of the URL}, cite=DBLP:books/mk/GrayR93, subcategory={Description, Subcategory}, swhid={Software Heritage Identifier}]{General Classification (e.g. Software, Dataset, Model, ...)}{URL to related version} %linktext, cite, and subcategory are optional

\acknowledgements{I want to thank my mother for the knitting and putting up
  with me peeling potatos to try knitting with toothpicks; Antoine Groudiev
  for his precious insights on how to label equations; Paul-André Melliès for
  his insights; Bob Frank and Bella Senturia for the help with the minimalistic
  merge syntactic theories; and of course, Simon Charlow for his advising
  during my time at Yale, and his help around the linguistics questions that
definitely arose.}

\nolinenumbers %uncomment to disable line numbering

%Editor-only macros:: begin (do not touch as author)%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\EventEditors{John Q. Open and Joan R. Access}
\EventNoEds{2}
\EventLongTitle{42nd Conference on Very Important Topics (CVIT 2016)}
\EventShortTitle{CVIT 2016}
\EventAcronym{CVIT}
\EventYear{2016}
\EventDate{December 24--27, 2016}
\EventLocation{Little Whinging, United Kingdom}
\EventLogo{}
\SeriesVolume{42}
\ArticleNo{23}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Document defined Commands
\input{preamble.tex}

\begin{document}

\maketitle

\begin{abstract}
	In this paper, we study a functional programming approach to natural language
	semantics, allowing us to increase the expressivity of a more traditional
	denotation style.
	We will formalize a category based type and effect system, and construct a
	diagrammatic calculus to model parsing and handling of effects, and use it to
	efficiently compute the denotations for sentences.
\end{abstract}

\section{Introduction}
What is \emph{a chair}? How do I know that \emph{Jupiter, a planet}, is
\emph{a planet}?
To answer those questions, \cite{bumfordEffectdrivenInterpretationFunctors2025}
provide a \textsc{Haskell} based view on the notion of typing in natural
language semantics.
Their main idea is to include a layer of effects which allows for improvements
in the expressiveness of the denotations used.
This allows to model complex concepts such as anaphoras, or non-determinism in
an easy way, independent of the actual way the words are represented.
Indeed, when considering the usual denotations of words as typed lambda-terms,
this allows us to solve the issue of meaning getting lost through impossible
typing, while still being able to compose meanings properly.
When two expressions have the same syntactic distribution, they must also have
the same type, which forces quantificational noun phrases to have the same type
as proper nouns: the entity type $\e$.
However, there is no singular entity that is the referent of \emph{every
	planet}, and so, the type system gets in the way of meaning, instead of being
a tool at its service.

\smallskip

Our formalism is inscribed in the contemporary natural language semantic
theories which are based on three main elements: a \emph{lexicon}, a
\emph{syntactic description} of the language, and a theory of
\emph{composition}.
More specifically, we explain how to extend the domain of the lexicon and the
theory of composition to account for the phenomena described above.
We will not be discussing most of the linguistic foundations for the usage of
the formalism, nor its usefulness.
We refer the reader to \cite{bumfordEffectdrivenInterpretationFunctors2025} to
get an overview of the linguistic considerations that are the base of the
theory.

\smallskip

In this paper, we will provide a formal definition of an enhanced type and
effect system for natural language semantics, based on categorical tools.
This will increase the complexity (both in terms of algorithmic operations and
in comprehension of the model) of the parsing algorithms, but through the use
of string diagrams to model the effect of composition on potential effectful
denotations (or more generally computations), we will provide efficient
algorithms for computing the set of meanings of a sentence, from the meaning of
its components.

\section{Related Work}
This is not the first time a categorical representation of compositional
semantics of natural language is proposed,
\cite{coeckeMathematicalFoundationsCompositional2010} already suggested an
approach based on monoidal categories using an external model of meaning.
What our approach gives more, is additional latitude for the definition of
denotations in the lexicon, and a visual explanation of the difference between
multiple possible parsing trees.
We will go back later on the differences between their Lambek inspired grammars
and our more abstract way of looking at the semantic parsing of a sentence.

\smallskip

On a completely different approach,
\cite{marcollimatildeetchomskynoametberwickrobertc.MathematicalStructureSyntactic}
provide a categorical structure based on Hopf algebra and coloured operads
to explain their model of syntax, leading to results at the interface of syntax
and morphology presented in \cite{senturiaAlgebraicStructureMorphosyntax2025}.
Similarly, \cite{melliesCategoricalContoursChomskySchutzenberger2025} provides
a modeling of CFGs using coloured operads.
Our approach is based on the suggestion that merge in syntax can be done using
labels, independent on how it is mathematically modelled.

\input{typing-system.tex}

\input{non-determinism-sd.tex}

\input{semantic-parsing.tex}

\section{Conclusion}
The functional programming approach developed in
\cite{bumfordEffectdrivenInterpretationFunctors2025} allows for increased
expressiveness in the choice of denotations, especially from a purely
theoretical point of view.
In this paper we have successfully prove that it is well-founded theoretically,
but also that it doesn't come at the cost of comprehensibility or efficiency.

Moreover, while our methods for implementing a type and effect system have been
applied to natural language semantics, it could be applied in any language with
purely compositional semantics.
Of course, there are still improvements that can be made, in particular around
the unorthodox use of effects to define what we have called higher-order
constructs and scope islands, but also in integrating the theory in more
complicated models of denotations, such as the ones learned through a neural
network for example.
In that case, it would suffice to understand what base combinators exist for
the model to implement the formalism we described.

\appendix
\bibliography{tdparse.bib}

\section{Presenting a Language}
In this appendix, we provide tables (\ref{fig:lexicon} and \ref{fig:functors}) describing the
modeling of a subset of the English language in our formalism.

\begin{figure}[H]
	\centering
	\begin{subfigure}{.9\textwidth}
		\centering
		\input{lexicon-table.tex}
		\caption{Lexicon for a subset of the English language}
		\label{fig:lexicon}
	\end{subfigure}

	\medskip

	\begin{subfigure}{\textwidth}
		\centering
		\resizebox{\textwidth}{!}{%
			\input{functors-table.tex}
		}
		\caption{Definition of a few functors, with their map on functions}
		\label{fig:functors}
	\end{subfigure}
	\caption{Presentation of a lambda-calculus lexicon for the English language}
\end{figure}


\end{document}
